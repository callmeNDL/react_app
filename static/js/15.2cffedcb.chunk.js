(this["webpackJsonpreact-enterprise-app"]=this["webpackJsonpreact-enterprise-app"]||[]).push([[15],{775:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return l})),a.d(t,"a",(function(){return d}));var r=a(28),n=a.n(r),s=a(60),c=a(44);function i(e){return o.apply(this,arguments)}function o(){return(o=Object(s.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.b.post(c.a.login,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return u.apply(this,arguments)}function u(){return(u=Object(s.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.b.post(c.a.register,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return j.apply(this,arguments)}function j(){return(j=Object(s.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.b.put("".concat(c.a.users,"/").concat(t.id),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},989:function(e,t,a){"use strict";a.r(t);var r=a(139),n=a(1),s=a(0),c=a(708),i=a(746),o=a(749),l=a(724),u=a(733),d=a(28),j=a.n(d),b=a(60),m=a(763),h=a(762),p=a(988),x=a(269),O=a(33),f=a(21),v=a(785),g=a(807),y=a(950),w=a(958),S=a(167),k=a(775),C=function(){var e=Object(f.g)(),t=Object(O.c)(),a=Object(s.useState)(""),c=Object(r.a)(a,2),i=c[0],d=c[1],C=function(e){localStorage.setItem("token",e.accessToken);var a=Object(x.a)(e.accessToken);console.log("Claims::",a),t(Object(S.c)(e.accessToken)),t(Object(S.b)(a))};return Object(n.jsx)(h.a,{initialValues:{email:"demo@acme.io",password:"Pass123!"},validationSchema:m.f().shape({email:m.h().email("Must be a valid email").max(255).required("Email is required"),password:m.h().max(255).required("Password is required")}),onSubmit:function(){var t=Object(b.a)(j.a.mark((function t(a,r){var n,s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(k.b)(a);case 3:n=t.sent,s=n.data,C(s),r.resetForm(),r.setStatus({success:!0}),r.setSubmitting(!1),e.push("dashboard"),t.next=18;break;case 12:t.prev=12,t.t0=t.catch(0),d("Failed. Please try again."),console.log(t.t0.message),r.setStatus({success:!1}),r.setSubmitting(!1);case 18:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,a){return t.apply(this,arguments)}}(),children:function(e){var t=e.errors,a=e.handleBlur,r=e.handleChange,s=e.handleSubmit,c=e.isSubmitting,d=e.touched,j=e.values;return Object(n.jsx)(v.a,{children:Object(n.jsxs)("form",{noValidate:!0,onSubmit:s,children:[Object(n.jsx)(g.a,{title:"Login"}),Object(n.jsx)(l.a,{}),Object(n.jsxs)(o.a,{m:2,children:[Object(n.jsx)(y.a,{error:Boolean(d.email&&t.email),fullWidth:!0,autoFocus:!0,helperText:d.email&&t.email,label:"Email Address",margin:"normal",name:"email",onBlur:a,onChange:r,type:"email",value:j.email,variant:"outlined"}),Object(n.jsx)(y.a,{error:Boolean(d.password&&t.password),fullWidth:!0,helperText:d.password&&t.password,label:"Password",margin:"normal",name:"password",onBlur:a,onChange:r,type:"password",value:j.password,variant:"outlined"}),Object(n.jsx)(o.a,{mt:2,children:Object(n.jsx)(u.a,{color:"primary",disabled:c,fullWidth:!0,size:"large",type:"submit",variant:"contained",children:"Log In"})}),i&&Object(n.jsx)(o.a,{mt:3,children:Object(n.jsx)(w.a,{error:!0,children:i})}),Object(n.jsx)(o.a,{mt:2,children:Object(n.jsx)(p.a,{severity:"info",children:Object(n.jsxs)("div",{children:["Use ",Object(n.jsx)("b",{children:"demo@acme.io"})," and password ",Object(n.jsx)("b",{children:"Pass123!"})]})})})]})]})})}})},B=a(788),T=a(810),q=a(745),F=a(819),P=a(177),W=a(960),I=function(){var e=Object(f.g)(),t=Object(O.c)(),a=Object(s.useState)(""),c=Object(r.a)(a,2),i=c[0],d=c[1],C=Object(s.useState)(!1),I=Object(r.a)(C,2),R=I[0],z=I[1],A=function(e){localStorage.setItem("token",e.accessToken);var a=Object(x.a)(e.accessToken);console.log("Claims::",a),t(Object(S.c)(e.accessToken)),t(Object(S.b)(a))};return Object(n.jsx)(h.a,{initialValues:{email:"johnnydoe@yahoo.com",name:"John",mobile:"+34782364823",password:"Pass123!",policy:!1},validationSchema:m.f().shape({email:m.h().email().required("Required"),name:m.h().required("Required"),mobile:m.h().min(10).required("Required"),password:m.h().min(7,"Must be at least 7 characters").max(255).required("Required"),policy:m.c().oneOf([!0],"This field must be checked")}),onSubmit:function(){var t=Object(b.a)(j.a.mark((function t(a,r){var n,s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(k.c)(a);case 3:n=t.sent,s=n.data,A(s),r.resetForm(),r.setStatus({success:!0}),r.setSubmitting(!1),e.push("dashboard"),t.next=19;break;case 12:t.prev=12,t.t0=t.catch(0),d("Failed. Please try again."),console.log(t.t0.message),z(!0),r.setStatus({success:!1}),r.setSubmitting(!1);case 19:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,a){return t.apply(this,arguments)}}(),children:function(e){var t=e.errors,a=e.handleBlur,r=e.handleChange,s=e.handleSubmit,c=e.isSubmitting,d=e.touched,j=e.values;return Object(n.jsxs)(v.a,{children:[Object(n.jsx)(g.a,{title:"Register Form"}),Object(n.jsx)(l.a,{}),Object(n.jsxs)(B.a,{children:[R&&Object(n.jsx)(o.a,{mb:3,children:Object(n.jsxs)(p.a,{onClose:function(){return z(!1)},severity:"info",children:[i,"!"]})}),c?Object(n.jsx)(o.a,{display:"flex",justifyContent:"center",my:5,children:Object(n.jsx)(T.a,{})}):Object(n.jsxs)(o.a,{children:[Object(n.jsxs)(q.a,{container:!0,spacing:2,children:[Object(n.jsx)(q.a,{item:!0,md:6,xs:12,children:Object(n.jsx)(y.a,{error:Boolean(d.name&&t.name),fullWidth:!0,helperText:d.name&&t.name,label:"Name",name:"name",onBlur:a,onChange:r,value:j.name,variant:"outlined"})}),Object(n.jsx)(q.a,{item:!0,md:6,xs:12,children:Object(n.jsx)(y.a,{error:Boolean(d.mobile&&t.mobile),fullWidth:!0,helperText:d.mobile&&t.mobile,label:"Mobile",name:"mobile",onBlur:a,onChange:r,value:j.mobile,variant:"outlined"})})]}),Object(n.jsx)(o.a,{mt:2,children:Object(n.jsx)(y.a,{error:Boolean(d.email&&t.email),fullWidth:!0,helperText:d.email&&t.email,label:"Email Address",name:"email",onBlur:a,onChange:r,type:"email",value:j.email,variant:"outlined"})}),Object(n.jsx)(o.a,{mt:2,children:Object(n.jsx)(y.a,{error:Boolean(d.password&&t.password),fullWidth:!0,helperText:d.password&&t.password,label:"Password",name:"password",onBlur:a,onChange:r,type:"password",value:j.password,variant:"outlined"})}),Object(n.jsxs)(o.a,{alignItems:"center",display:"flex",mt:2,ml:-1,children:[Object(n.jsx)(F.a,{checked:j.policy,name:"policy",onChange:r}),Object(n.jsxs)(P.a,{variant:"body2",color:"textSecondary",children:["I have read the"," ",Object(n.jsx)(W.a,{component:"a",href:"#",color:"secondary",children:"Terms and Conditions"})]})]}),Boolean(d.policy&&t.policy)&&Object(n.jsx)(w.a,{error:!0,children:t.policy}),Object(n.jsx)("form",{onSubmit:s,children:Object(n.jsx)(u.a,{color:"primary",disabled:c,fullWidth:!0,size:"large",type:"submit",variant:"contained",children:"Sign up"})})]})]})]})}})},R=a(141),z=Object(c.a)((function(){return{root:{}}}));t.default=function(){var e=z(),t=Object(s.useState)(!0),a=Object(r.a)(t,2),c=a[0],d=a[1];return Object(n.jsx)(R.a,{className:e.root,title:"Authentication",children:Object(n.jsx)(i.a,{children:Object(n.jsxs)(o.a,{my:5,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[c?Object(n.jsx)(C,{}):Object(n.jsx)(I,{}),Object(n.jsx)(l.a,{}),Object(n.jsxs)(o.a,{mt:5,children:["Go to"," ",c?Object(n.jsx)(u.a,{size:"small",color:"primary",variant:"text",onClick:function(){return d(!1)},children:"Register Form"}):Object(n.jsx)(u.a,{size:"small",color:"primary",variant:"text",onClick:function(){return d(!0)},children:"Login Form"})]})]})})})}}}]);